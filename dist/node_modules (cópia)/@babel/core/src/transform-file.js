"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transformFileAsync = exports.transformFileSync = exports.transformFile = void 0;
const gensync_1 = require("gensync");
const config_1 = require("./config");
const transformation_1 = require("./transformation");
const fs = require("./gensync-utils/fs");
({});
const transformFileRunner = (0, gensync_1.default)(function* (filename, opts) {
    const options = Object.assign(Object.assign({}, opts), { filename });
    const config = yield* (0, config_1.default)(options);
    if (config === null)
        return null;
    const code = yield* fs.readFile(filename, "utf8");
    return yield* (0, transformation_1.run)(config, code);
});
exports.transformFile = transformFileRunner.errback;
exports.transformFileSync = transformFileRunner.sync;
exports.transformFileAsync = transformFileRunner.async;
//# sourceMappingURL=transform-file.js.map